"use strict";(self.webpackChunkfeedback=self.webpackChunkfeedback||[]).push([[592],{1746:(m,s,c)=>{c.d(s,{s:()=>v});var e=c(7716),d=c(7358);let r=(()=>{class i{constructor(){this.listVotes=[]}clickVotes(t){return this.listVotes.includes(t)?(this.listVotes=this.listVotes.filter(g=>g!==t),!1):(this.listVotes.push(t),!0)}getALlVotes(){return this.listVotes}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var o=c(8583),n=c(5769);const a=["vote"];function l(i,u){if(1&i){const t=e.EpF();e.TgZ(0,"div",2),e.TgZ(1,"button",3,4),e.NdJ("click",function(){return e.CHM(t),e.oxw().toggleVote()}),e.TgZ(3,"mat-icon",5),e._uU(4,"expand_less"),e.qZA(),e.TgZ(5,"span",6),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"div",7),e.TgZ(8,"h2",8),e._uU(9),e.qZA(),e.TgZ(10,"p",9),e._uU(11),e.qZA(),e.TgZ(12,"button",10),e.TgZ(13,"span"),e._uU(14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",11),e._UZ(16,"mat-icon",12),e.TgZ(17,"span",13),e._uU(18),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.ekj("feed-card__btn-active",t.voteClicked),e.xp6(5),e.Oqu(t.countVotes),e.xp6(3),e.Oqu(t.feedback.title),e.xp6(2),e.hij(" ",t.feedback.description," "),e.xp6(3),e.Oqu(t.feedback.category),e.xp6(4),e.Oqu(t.commentsLen)}}const f=function(i,u,t){return{"state-planned":i,"state-progress":u,"state-live":t}};function p(i,u){if(1&i){const t=e.EpF();e.TgZ(0,"div",14),e.TgZ(1,"div",15),e._UZ(2,"span",16),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.qZA(),e.TgZ(5,"div"),e.TgZ(6,"h2",17),e._uU(7),e.qZA(),e.TgZ(8,"p",9),e._uU(9),e.qZA(),e.TgZ(10,"button",10),e.TgZ(11,"span"),e._uU(12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",18),e.TgZ(14,"button",19,4),e.NdJ("click",function(){return e.CHM(t),e.oxw().toggleVote()}),e.TgZ(16,"mat-icon",5),e._uU(17,"expand_less"),e.qZA(),e.TgZ(18,"span",6),e._uU(19),e.qZA(),e.qZA(),e.TgZ(20,"div",11),e._UZ(21,"mat-icon",12),e.TgZ(22,"span",13),e._uU(23),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngClass",e.kEZ(9,f,"planned"==t.feedback.status,"in-progress"==t.feedback.status,"live"==t.feedback.status)),e.xp6(4),e.Oqu(t.feedback.status),e.xp6(3),e.hij(" ",t.feedback.title," "),e.xp6(2),e.hij(" ",t.feedback.description," "),e.xp6(3),e.Oqu(t.feedback.category),e.xp6(2),e.ekj("feed-card__btn-active",t.voteClicked),e.xp6(5),e.Oqu(t.countVotes),e.xp6(4),e.Oqu((null==t.feedback.comments?null:t.feedback.comments.length)||0)}}let v=(()=>{class i{constructor(t,_){this.router=t,this.votesService=_,this.commentsLen=0,this.voteClicked=!1}checkClick(t){this.voteBtn.nativeElement.contains(t)||this.router.navigate(["feedback",this.feedback.id])}ngOnInit(){var t;this.countVotes=(null===(t=this.feedback)||void 0===t?void 0:t.votes)||0;let _=this.votesService.getALlVotes();_&&_.forEach(g=>{g===this.feedback.id&&(this.countVotes+=1,this.voteClicked=!0)})}toggleVote(){this.votesService.clickVotes(this.feedback.id)?(this.countVotes+=1,this.voteClicked=!0):(this.countVotes-=1,this.voteClicked=!1)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.F0),e.Y36(r))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-feedback-card"]],viewQuery:function(t,_){if(1&t&&e.Gf(a,5),2&t){let g;e.iGM(g=e.CRH())&&(_.voteBtn=g.first)}},hostBindings:function(t,_){1&t&&e.NdJ("click",function(C){return _.checkClick(C.target)})},inputs:{feedback:"feedback",type:"type",commentsLen:"commentsLen"},decls:2,vars:2,consts:[["class","feed-card",4,"ngIf"],["class","feed-card-road",3,"ngClass",4,"ngIf"],[1,"feed-card"],[1,"feed-card__vote","feed-card__vote--vert",3,"click"],["vote",""],["color","accent",1,"feed-card__vote-icon"],[1,"feed-card__vote-num"],[1,"feed-card__content"],[1,"feed-card__title"],[1,"feed-card__text"],["disabled","",1,"feed-card__tag-btn"],[1,"feed-card__comment"],["svgIcon","comment_icon",1,"feed-card__comment-icon"],[1,"feed-card__comment-span"],[1,"feed-card-road",3,"ngClass"],[1,"feed-card__status"],[1,"indicator"],[1,"feed-card__title","feed-card__title-small"],[1,"feed-card__footer"],[1,"feed-card__vote",3,"click"]],template:function(t,_){1&t&&(e.YNc(0,l,19,7,"div",0),e.YNc(1,p,24,13,"div",1)),2&t&&(e.Q6J("ngIf",!_.type),e.xp6(1),e.Q6J("ngIf",_.type))},directives:[o.O5,n.Hw,o.mk],styles:[".feed-card[_ngcontent-%COMP%]{width:100%;padding:2rem;border-radius:8px;background-color:var(--color-white);box-shadow:1px 3px 5px #0003;transition:all .3s;cursor:pointer;display:flex;grid-gap:3rem;gap:3rem;position:relative}.feed-card[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:1px 3px 20px #0000001a}@media (max-width: 650px){.feed-card[_ngcontent-%COMP%]{flex-direction:column}}.feed-card__content[_ngcontent-%COMP%]{flex:1}.feed-card__title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:600;color:var(--text-accent-dark)}.feed-card__text[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem}.feed-card__tag-btn[_ngcontent-%COMP%]{padding:.8rem 1rem;color:#4661e6;background-color:#f2f4ff;border-radius:.8rem}.feed-card__comment[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:.6rem;gap:.6rem}@media (max-width: 650px){.feed-card__comment[_ngcontent-%COMP%]{align-self:flex-end}}.feed-card__comment-icon[_ngcontent-%COMP%]{color:#ccc;font-size:1.8rem}.feed-card__comment-span[_ngcontent-%COMP%]{font-weight:600;color:var(--text-accent-dark);font-size:1.8rem;padding-bottom:8px}.feed-card__vote[_ngcontent-%COMP%]{padding:.8rem;border-radius:1rem;background-color:#f2f4ff;cursor:pointer;display:flex;align-items:center;transition:all .4s}.feed-card__vote[_ngcontent-%COMP%]:hover, .feed-card__vote[_ngcontent-%COMP%]:active{background-color:#cfd7ff}.feed-card__vote--vert[_ngcontent-%COMP%]{flex-direction:column;align-self:flex-start}@media (max-width: 650px){.feed-card__vote--vert[_ngcontent-%COMP%]{flex-direction:row}}.feed-card__vote-num[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:600;color:var(--text-accent-dark)}@media (max-width: 650px){.feed-card__vote-num[_ngcontent-%COMP%]{font-size:1.3rem}}.feed-card__btn-active[_ngcontent-%COMP%]{background-color:#4661e6;transition:all .3s}.feed-card__btn-active[_ngcontent-%COMP%]:hover, .feed-card__btn-active[_ngcontent-%COMP%]:active{background-color:#6a80ec}.feed-card__btn-active[_ngcontent-%COMP%]   .feed-card__vote-icon[_ngcontent-%COMP%], .feed-card__btn-active[_ngcontent-%COMP%]   .feed-card__vote-num[_ngcontent-%COMP%]{color:#fff}.feed-card-road[_ngcontent-%COMP%]{width:100%;padding:1rem;border-radius:6px;background-color:var(--color-white);transition:all .3s;cursor:pointer;border-top:6px solid transparent;font-size:1.2rem}.feed-card-road[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:1px 3px 20px #0000001a}.feed-card__status[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:.8rem;gap:.8rem;margin-bottom:1.5rem}.feed-card__title-small[_ngcontent-%COMP%]{font-size:1.4rem}.feed-card__footer[_ngcontent-%COMP%]{display:flex;margin-top:2rem;justify-content:space-between;align-content:center}.feed-card__footer[_ngcontent-%COMP%]   .feed-card__vote-num[_ngcontent-%COMP%]{font-size:1.4rem}.feed-card__footer[_ngcontent-%COMP%]   .feed-card__vote[_ngcontent-%COMP%]{padding:.1rem .8rem}.indicator[_ngcontent-%COMP%]{display:inline-block;width:1rem;height:1rem;border-radius:50%}.state-planned[_ngcontent-%COMP%]{border-top-color:#f49f85}.state-planned[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{background-color:#f49f85}.state-progress[_ngcontent-%COMP%]{border-top-color:#ad1fea}.state-progress[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{background-color:#ad1fea}.state-live[_ngcontent-%COMP%]{border-top-color:#62bcfa}.state-live[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{background-color:#62bcfa}@media (max-width: 650px){.feed-card[_ngcontent-%COMP%]   .feed-card__vote[_ngcontent-%COMP%]{position:absolute;bottom:2rem}}"]}),i})()},3150:(m,s,c)=>{c.d(s,{y:()=>o});var e=c(8583),d=c(4667),r=c(7716);let o=(()=>{class n{}return n.\u0275fac=function(l){return new(l||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[e.ez,d.q]]}),n})()},4135:(m,s,c)=>{c.d(s,{F:()=>e});const e=d=>function o(n,a){let l=a.reduce((f,p)=>p.replies?f+p.replies.length:f,0);if(0===l)return n;for(const f of a)if(f.replies)return o(l+n,f.replies)}(d.length,d)},6205:(m,s,c)=>{c.d(s,{_:()=>d});var e=c(7716);let d=(()=>{class r{constructor(n){this.elRef=n,this.clicked=new e.vpe}onClick(n){const a=this.elRef.nativeElement.contains(n),l=this.toggle.contains(n);a||l||this.clicked.emit()}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(e.SBq))},r.\u0275dir=e.lG2({type:r,selectors:[["","appClickOutside",""]],hostBindings:function(n,a){1&n&&e.NdJ("click",function(f){return a.onClick(f.target)},!1,e.evT)},inputs:{toggle:"toggle"},outputs:{clicked:"clicked"}}),r})()},8088:(m,s,c)=>{c.d(s,{Z:()=>r});var e=c(8583),d=c(7716);let r=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=d.oAB({type:o}),o.\u0275inj=d.cJS({imports:[[e.ez]]}),o})()},4239:(m,s,c)=>{c.d(s,{v:()=>r});var e=c(7716),d=c(8583);let r=(()=>{class o{constructor(a){this.location=a}onClick(){this.location.back()}}return o.\u0275fac=function(a){return new(a||o)(e.Y36(d.Ye))},o.\u0275dir=e.lG2({type:o,selectors:[["","appGoBack",""]],hostBindings:function(a,l){1&a&&e.NdJ("click",function(){return l.onClick()})}}),o})()},5075:(m,s,c)=>{c.d(s,{z:()=>r});var e=c(8583),d=c(7716);let r=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=d.oAB({type:o}),o.\u0275inj=d.cJS({imports:[[e.ez]]}),o})()},8189:(m,s,c)=>{c.d(s,{R:()=>d});var e=c(7716);let d=(()=>{class r{transform(n,a,l){return"category"===l&&"all"===a||n.length<=0||!a?n:n.filter(f=>f[l]===a)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275pipe=e.Yjl({name:"filterBy",type:r,pure:!0}),r})()}}]);
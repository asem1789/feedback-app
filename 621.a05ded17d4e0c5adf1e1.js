"use strict";(self.webpackChunkfeedback=self.webpackChunkfeedback||[]).push([[621],{4621:(P,d,r)=>{r.r(d),r.d(d,{FeedbackDetailModule:()=>A});var s=r(8583),i=r(3679),u=r(8088),p=r(4667),_=r(3150),l=r(7358),e=r(7716),f=r(4040);const b=[{id:"user-1",userName:"khaled123",fullName:"khaled ahmad",image:"user-1"},{id:"user-2",userName:"ali987",fullName:"Ali Ali",image:"user-2"},{id:"user-3",userName:"mohammad976",fullName:"Mohammad Khaled",image:"user-3"},{id:"user-4",userName:"sami3868",fullName:"Sami Abed",image:"user-4"},{id:"guest-1",userName:"guest6988",fullName:"guest one",image:"guest-1"}];let h=(()=>{class n{constructor(){}getUser(t){return b.filter(o=>o.id===t)[0]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var C=r(4239),g=r(5769),v=r(4569);function k(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"li",4),e._UZ(1,"img",5),e.TgZ(2,"div",6),e.TgZ(3,"div",7),e.TgZ(4,"div"),e.TgZ(5,"h4",8),e._uU(6),e.qZA(),e.TgZ(7,"p",9),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"button",10),e.NdJ("click",function(){const c=e.CHM(t),a=c.$implicit,F=c.index;return e.oxw().toggleReply(a.id+"index"+F)}),e._uU(10," Reply "),e.qZA(),e.qZA(),e.TgZ(11,"p",11),e._uU(12),e.qZA(),e.TgZ(13,"div",12),e._UZ(14,"textarea",13),e.TgZ(15,"button",14),e.TgZ(16,"mat-icon",15),e._uU(17,"send"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=m.$implicit,o=m.index,c=e.oxw();e.xp6(1),e.Q6J("src","../../../assets/images/"+t.userInfo.id+".png",e.LSH),e.xp6(5),e.Oqu(t.userInfo.fullName),e.xp6(2),e.hij(" ","@"+t.userInfo.userName," "),e.xp6(4),e.hij(" ",t.content," "),e.xp6(1),e.ekj("comments__textarea-wrap-show",c.showOrHideReply(t.id+"index"+o)),e.uIk("data-text",t.id+"index"+o),e.xp6(1),e.Q6J("formControl",c.reply),e.xp6(1),e.ekj("comments__btn-send-active",c.reply.valid)}}let Z=(()=>{class n{constructor(t){this.renderer=t,this.comments=[],this.activeComments=[],this.reply=new i.NI("",i.kI.required)}ngOnInit(){console.log(this.comments),this.reply.valueChanges.subscribe(t=>{console.log(t," ",this.reply)})}toggleReply(t){this.activeComments=this.activeComments.includes(t)?this.activeComments.filter(o=>o!==t):[...this.activeComments,t]}showOrHideReply(t){return!!this.activeComments.includes(t)}filterComments(){let o=[...this.comments];return this.orderComments(o),this.comments.map(a=>a)}orderComments(t){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-comments"]],inputs:{comments:"comments"},decls:5,vars:2,consts:[[1,"comments"],[1,"comments__title"],[1,"comments__list"],["class","comments__item",4,"ngFor","ngForOf"],[1,"comments__item"],[1,"comments__img",3,"src"],[1,"flex-1"],[1,"comments__header"],[1,"comments__user-full"],[1,"comments__user-name"],[1,"comments__btn-reply",3,"click"],[1,"comments__message"],[1,"comments__textarea-wrap"],["placeholder","your reply",1,"comments__textarea",3,"formControl"],[1,"comments__btn-send"],[1,"comments__send-icon"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h3",1),e._uU(2),e.qZA(),e.TgZ(3,"ul",2),e.YNc(4,k,18,10,"li",3),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.hij("",o.comments.length," / Comments"),e.xp6(2),e.Q6J("ngForOf",o.filterComments()))},directives:[s.sg,i.Fj,i.JJ,i.oH,g.Hw],styles:[".comments[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:2rem;color:#647196;font-size:1.4rem}.comments__title[_ngcontent-%COMP%]{color:var(--color-accent);margin-bottom:3rem;font-weight:700}.comments__user-full[_ngcontent-%COMP%]{color:#3a4374;font-size:1.4rem}.comments__item[_ngcontent-%COMP%]{display:flex;grid-gap:3rem;gap:3rem;padding:3rem .2rem 3rem 0}.comments__item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #64719652}.comments__header[_ngcontent-%COMP%]{display:flex;margin-bottom:2rem}.comments__img[_ngcontent-%COMP%]{display:block;width:3.8rem;height:3.8rem;border-radius:50%;background-color:#f2f4ff;border:1px solid #c5c8da}.comments__btn-reply[_ngcontent-%COMP%]{color:#4661e6;font-weight:600;cursor:pointer;align-self:flex-end;margin-left:auto}.comments__textarea-wrap[_ngcontent-%COMP%]{margin-top:1rem;position:relative;height:0;overflow:hidden;transition:all .4s}.comments__textarea-wrap-show[_ngcontent-%COMP%]{height:14rem}.comments__textarea[_ngcontent-%COMP%]{background-color:#f7f8fd;border-radius:5px;padding:1rem;width:100%;resize:none;font-size:1.4rem;color:#647196;font-weight:600;height:14rem}.comments__textarea[_ngcontent-%COMP%]::placeholder{opacity:.4;font-weight:400}.comments__btn-send[_ngcontent-%COMP%]{width:2.4rem;height:2.4rem;border:1px solid rgba(0,0,0,.26);color:#00000042;position:absolute;right:2rem;bottom:2rem;cursor:pointer;border-radius:50%;transition:all .3s;display:flex;justify-content:center;align-items:center}.comments__btn-send-active[_ngcontent-%COMP%]{border:1px solid #4661e6;color:#4661e6;transition:all .3s}.comments__btn-send-active[_ngcontent-%COMP%]:hover, .comments__btn-send-active[_ngcontent-%COMP%]:active{border:1px solid #ad1fea;color:#ad1fea;transform:scale(1.02)}.comments__send-icon[_ngcontent-%COMP%]{font-size:1.6rem;height:auto;width:auto}"]}),n})();function x(n,m){if(1&n&&(e.TgZ(0,"div",13),e._UZ(1,"app-feedback-card",14),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("feedback",t.feedback)}}function y(n,m){if(1&n&&e._UZ(0,"app-comments",15),2&n){const t=e.oxw();e.Q6J("comments",t.feedback.comments)}}const O=function(n){return{"btn__disable  btn__disable--primary":n}},T=[{path:"",component:(()=>{class n{constructor(t,o,c,a){this.activateRoute=t,this.router=o,this.feedbackService=c,this.userService=a,this.comment=new i.NI("",i.kI.required)}ngOnInit(){this.activateRoute.paramMap.subscribe(t=>{let o=this.feedbackService.getAllFeedback();o&&(this.feedback=o.filter(c=>c.id===t.get("id"))[0]),this.feedbackService.feedbackChange.subscribe(c=>{this.feedback=c.filter(a=>a.id===t.get("id"))[0]})})}editFeedback(){this.router.navigate(["/feedback",this.feedback.id,"edit"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.gz),e.Y36(l.F0),e.Y36(f.T),e.Y36(h))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-feedback-detail"]],decls:19,vars:10,consts:[[1,"detail"],[1,"detail__header"],["appGoBack","",1,"btn-back"],[1,"btn-back__icon"],["type","button",1,"btn","btn__edit",3,"click"],["class","detail__content",4,"ngIf"],[3,"comments",4,"ngIf"],[1,"comment"],[1,"comment__title"],["placeholder","Type your comment here","cols","10","rows","5","maxlength","250",1,"comment__text","comment-focus",3,"draggable","formControl"],[1,"comment__footer"],[1,"comment__count"],["type","button",1,"btn","btn__primary",3,"ngClass"],[1,"detail__content"],[3,"feedback"],[3,"comments"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"button",2),e.TgZ(3,"mat-icon",3),e._uU(4,"chevron_left"),e.qZA(),e._uU(5," Go Back "),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return o.editFeedback()}),e._uU(7," Edit FeedBack "),e.qZA(),e.qZA(),e.YNc(8,x,2,1,"div",5),e.YNc(9,y,1,1,"app-comments",6),e.TgZ(10,"div",7),e.TgZ(11,"h3",8),e._uU(12,"Add Comment"),e.qZA(),e._UZ(13,"textarea",9),e.TgZ(14,"div",10),e.TgZ(15,"p",11),e._uU(16),e.qZA(),e.TgZ(17,"button",12),e._uU(18," Post Comment "),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(8),e.Q6J("ngIf",!!o.feedback),e.xp6(1),e.Q6J("ngIf",o.feedback&&o.feedback.comments),e.xp6(4),e.ekj("border-error",o.comment.invalid&&(o.comment.touched||o.comment.dirty)),e.Q6J("draggable",!1)("formControl",o.comment),e.xp6(3),e.hij("",o.comment.value.length," / 250"),e.xp6(1),e.Q6J("ngClass",e.VKq(8,O,o.comment.invalid)))},directives:[C.v,g.Hw,s.O5,i.Fj,i.nD,i.JJ,i.oH,s.mk,v.s,Z],styles:[".detail[_ngcontent-%COMP%]{max-width:770px;margin:0 auto;padding-top:8rem;padding-right:2rem;padding-left:2rem}.detail__header[_ngcontent-%COMP%]{display:flex;margin-bottom:2rem;justify-content:space-between;align-content:center}.comment[_ngcontent-%COMP%]{background-color:#fff;padding:2rem 1.5rem;border-radius:5px;margin-top:3rem}.comment__title[_ngcontent-%COMP%]{color:var(--color-accent);margin-bottom:2rem}.comment__text[_ngcontent-%COMP%]{background-color:#f2f4ff;border-radius:5px;width:100%;padding:2rem;resize:none}.comment__text[_ngcontent-%COMP%]::placeholder{color:var(--gray-30)}.comment__footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:2rem}.comment__count[_ngcontent-%COMP%]{padding-left:1rem}app-comments[_ngcontent-%COMP%]{display:block;margin-top:3rem}"]}),n})()}];let M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[l.Bz.forChild(T)],l.Bz]}),n})(),A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[s.ez,M,u.Z,p.q,_.y,i.UX]]}),n})()}}]);
"use strict";(self.webpackChunkfeedback=self.webpackChunkfeedback||[]).push([[635],{1635:(J,s,c)=>{c.r(s),c.d(s,{FeedbackDetailModule:()=>U});var r=c(8583),i=c(3679),f=c(8088),u=c(4667),b=c(3150),d=c(7358),p=c(4135),e=c(7716),_=c(4040),h=c(3225);let v=(()=>{class t{constructor(){}getUser(n){return h.m.filter(o=>o.id===n)[0]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var C=c(4239),g=c(5769),k=c(1746);function Z(t,m){1&t&&e._UZ(0,"app-comment",15),2&t&&e.Q6J("comment",m.$implicit)}function y(t,m){if(1&t&&(e.TgZ(0,"div",13),e.YNc(1,Z,1,1,"app-comment",14),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.comment.replies)}}let T=(()=>{class t{constructor(n,o){this.feedbackService=n,this.router=o,this.activeComment=!1,this.nestedComment=null,this.reply=new i.NI("",i.kI.required)}ngOnInit(){}toggleReply(){this.activeComment=!this.activeComment}postReply(){let n=this.router.url.split("/").pop();n&&this.feedbackService.addReplyToComment(n,this.comment.id,this.reply.value),this.reply.setValue(""),this.activeComment=!1}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(_.T),e.Y36(d.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-comment"]],inputs:{comment:"comment"},decls:19,vars:10,consts:[[1,"comment","comment-block"],[1,"comment__img",3,"src"],[1,"flex-1"],[1,"comment__header"],[1,"comment__user-full"],[1,"comment__user-name"],[1,"comment__btn-reply",3,"click"],[1,"comment__message"],[1,"comment__textarea-wrap"],["placeholder","your reply",1,"comment__textarea",3,"formControl"],[1,"comment__btn-send",3,"click"],[1,"comment__send-icon"],["style","margin-left: 3rem",4,"ngIf"],[2,"margin-left","3rem"],[3,"comment",4,"ngFor","ngForOf"],[3,"comment"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div"),e.TgZ(5,"h4",4),e._uU(6),e.qZA(),e.TgZ(7,"p",5),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"button",6),e.NdJ("click",function(){return o.toggleReply()}),e._uU(10,"Reply"),e.qZA(),e.qZA(),e.TgZ(11,"p",7),e._uU(12),e.qZA(),e.TgZ(13,"div",8),e._UZ(14,"textarea",9),e.TgZ(15,"button",10),e.NdJ("click",function(){return o.postReply()}),e.TgZ(16,"mat-icon",11),e._uU(17,"send"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(18,y,2,1,"div",12)),2&n&&(e.xp6(1),e.Q6J("src","./assets/images/"+o.comment.userInfo.id+".png",e.LSH),e.xp6(5),e.hij(" ",o.comment.userInfo.fullName," "),e.xp6(2),e.hij(" ","@"+o.comment.userInfo.userName," "),e.xp6(4),e.hij(" ",o.comment.content," "),e.xp6(1),e.ekj("comment__textarea-wrap-show",o.activeComment),e.xp6(1),e.Q6J("formControl",o.reply),e.xp6(1),e.ekj("comment__btn-send-active",o.reply.valid),e.xp6(3),e.Q6J("ngIf",o.comment.replies))},directives:[i.Fj,i.JJ,i.oH,g.Hw,r.O5,r.sg,t],styles:[".comment[_ngcontent-%COMP%]{display:flex;grid-gap:2rem;gap:2rem}.comment__user-full[_ngcontent-%COMP%]{color:#3a4374;font-size:1.4rem}.comment__header[_ngcontent-%COMP%]{display:flex;margin-bottom:2rem}.comment__img[_ngcontent-%COMP%]{display:block;width:3.8rem;height:3.8rem;border-radius:50%;background-color:#f2f4ff;border:1px solid #c5c8da}.comment__btn-reply[_ngcontent-%COMP%]{color:#4661e6;font-weight:600;cursor:pointer;align-self:flex-end;margin-left:auto}.comment__textarea-wrap[_ngcontent-%COMP%]{margin-top:1rem;position:relative;height:0;overflow:hidden;transition:all .4s}.comment__textarea-wrap-show[_ngcontent-%COMP%]{height:14rem}.comment__textarea[_ngcontent-%COMP%]{background-color:#f7f8fd;border-radius:5px;padding:1rem;width:100%;resize:none;font-size:1.4rem;color:#647196;font-weight:600;height:14rem}.comment__textarea[_ngcontent-%COMP%]::placeholder{opacity:.4;font-weight:400}.comment__btn-send[_ngcontent-%COMP%]{width:2.4rem;height:2.4rem;border:1px solid rgba(0,0,0,.26);color:#00000042;position:absolute;right:2rem;bottom:2rem;cursor:pointer;border-radius:50%;transition:all .3s;display:flex;justify-content:center;align-items:center;pointer-events:none}.comment__btn-send-active[_ngcontent-%COMP%]{pointer-events:all;border:1px solid #4661e6;color:#4661e6;transition:all .3s}.comment__btn-send-active[_ngcontent-%COMP%]:hover, .comment__btn-send-active[_ngcontent-%COMP%]:active{border:1px solid #ad1fea;color:#ad1fea;transform:scale(1.02)}.comment__send-icon[_ngcontent-%COMP%]{font-size:1.6rem;height:auto;width:auto}.comment-block[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:2rem}"]}),t})();function x(t,m){if(1&t&&(e.TgZ(0,"div",13),e._UZ(1,"app-feedback-card",14),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("commentsLen",n.commentLength)("feedback",n.feedback)}}function F(t,m){if(1&t&&(e.TgZ(0,"li",19),e._UZ(1,"app-comment",20),e.qZA()),2&t){const n=m.$implicit;e.xp6(1),e.Q6J("comment",n)}}function O(t,m){if(1&t&&(e.TgZ(0,"div",15),e.TgZ(1,"h3",16),e._uU(2),e.qZA(),e.TgZ(3,"ul",17),e.YNc(4,F,2,1,"li",18),e.qZA(),e.qZA()),2&t){const n=e.oxw();e.xp6(2),e.hij("",n.commentLength," / Comments"),e.xp6(2),e.Q6J("ngForOf",n.feedback.comments)}}const M=function(t){return{"btn__disable  btn__disable--primary":t}},A=[{path:"",component:(()=>{class t{constructor(n,o,a,l){this.activateRoute=n,this.router=o,this.feedbackService=a,this.userService=l,this.comment=new i.NI("",i.kI.required),this.commentLength=0}ngOnInit(){this.activateRoute.paramMap.subscribe(n=>{this.feedId=n.get("id")||"";let o=this.feedbackService.getAllFeedback();o&&(this.feedback=o.filter(a=>a.id===this.feedId)[0],this.commentLength=(0,p.F)(this.feedback.comments||[])),this.feedbackService.feedbackChange.subscribe(a=>{this.feedback=a.filter(l=>l.id===this.feedId)[0],this.commentLength=(0,p.F)(this.feedback.comments||[])})})}editFeedback(){this.router.navigate(["/feedback",this.feedback.id,"edit"])}postComment(){this.feedbackService.addCommentToPost(this.feedId,this.comment.value),this.comment.reset(),this.comment.setValue("")}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(d.gz),e.Y36(d.F0),e.Y36(_.T),e.Y36(v))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-feedback-detail"]],decls:19,vars:10,consts:[[1,"detail"],[1,"detail__header"],["appGoBack","",1,"btn-back"],[1,"btn-back__icon"],["type","button",1,"btn","btn__edit",3,"click"],["class","detail__content",4,"ngIf"],["class","detail__comments",4,"ngIf"],[1,"comment"],[1,"comment__title"],["placeholder","Type your comment here","cols","10","rows","5","maxlength","250",1,"comment__text","comment-focus",3,"draggable","formControl"],[1,"comment__footer"],[1,"comment__count"],["type","button",1,"btn","btn__primary",3,"ngClass","click"],[1,"detail__content"],[3,"commentsLen","feedback"],[1,"detail__comments"],[1,"detail__comments__title"],[1,"detail__comments__list"],["class","detail__comments__item",4,"ngFor","ngForOf"],[1,"detail__comments__item"],[3,"comment"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"button",2),e.TgZ(3,"mat-icon",3),e._uU(4,"chevron_left"),e.qZA(),e._uU(5," Go Back "),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return o.editFeedback()}),e._uU(7," Edit FeedBack "),e.qZA(),e.qZA(),e.YNc(8,x,2,2,"div",5),e.YNc(9,O,5,2,"div",6),e.TgZ(10,"div",7),e.TgZ(11,"h3",8),e._uU(12,"Add Comment"),e.qZA(),e._UZ(13,"textarea",9),e.TgZ(14,"div",10),e.TgZ(15,"p",11),e._uU(16),e.qZA(),e.TgZ(17,"button",12),e.NdJ("click",function(){return o.postComment()}),e._uU(18," Post Comment "),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(8),e.Q6J("ngIf",!!o.feedback),e.xp6(1),e.Q6J("ngIf",o.feedback&&o.feedback.comments),e.xp6(4),e.ekj("border-error",o.comment.invalid&&(o.comment.touched||o.comment.dirty)),e.Q6J("draggable",!1)("formControl",o.comment),e.xp6(3),e.hij("",o.comment.value.length," / 250"),e.xp6(1),e.Q6J("ngClass",e.VKq(8,M,o.comment.invalid)))},directives:[C.v,g.Hw,r.O5,i.Fj,i.nD,i.JJ,i.oH,r.mk,k.s,r.sg,T],styles:[".detail[_ngcontent-%COMP%]{max-width:770px;margin:0 auto;padding:8rem 2rem}.detail__header[_ngcontent-%COMP%]{display:flex;margin-bottom:2rem;justify-content:space-between;align-content:center}.comment[_ngcontent-%COMP%]{background-color:#fff;padding:2rem 1.5rem;border-radius:5px;margin-top:3rem}.comment__title[_ngcontent-%COMP%]{color:var(--color-accent);margin-bottom:2rem}.comment__text[_ngcontent-%COMP%]{background-color:#f2f4ff;border-radius:5px;width:100%;padding:2rem;resize:none}.comment__text[_ngcontent-%COMP%]::placeholder{color:var(--gray-30)}.comment__footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:2rem}.comment__count[_ngcontent-%COMP%]{padding-left:1rem}.detail__comments[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;color:#647196;font-size:1.4rem;margin-top:3rem;padding:2rem}.detail__comments__title[_ngcontent-%COMP%]{color:var(--color-accent);margin-bottom:3rem;font-weight:700}.detail__comments__item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #64719652}app-comments[_ngcontent-%COMP%]{display:block;margin-top:3rem}"]}),t})()}];let P=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.Bz.forChild(A)],d.Bz]}),t})(),U=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[r.ez,P,f.Z,u.q,b.y,i.UX]]}),t})()}}]);
"use strict";(self.webpackChunkfeedback=self.webpackChunkfeedback||[]).push([[120],{2120:(S,m,a)=>{a.r(m),a.d(m,{CreateFeedbackModule:()=>J});var l=a(8583),g=a(8088),r=a(3679),d=a(7358),e=a(7716),_=a(4040),u=a(4239),f=a(5769),h=a(6205);const b=["selectList"];function C(i,n){if(1&i){const o=e.EpF();e.TgZ(0,"li",8,9),e.NdJ("click",function(){const s=e.CHM(o).$implicit;return e.oxw().selectOption(s)}),e._uU(2),e.qZA()}if(2&i){const o=n.$implicit;e.xp6(2),e.hij(" ",o," ")}}let v=(()=>{class i{constructor(o){this.renderer=o,this.options=[],this.selectedValue=null,this.showList=!1}ngOnInit(){}toggleSelect(){this.showList=!this.showList,this.animateHeight()}hideList(){this.showList=!1,this.animateHeight()}selectOption(o){var t;null===(t=this.formName.get("category"))||void 0===t||t.setValue(o),this.selectedValue=o,this.toggleSelect()}animateHeight(){let o=this.selectList.nativeElement;this.renderer.setStyle(o,"height",this.showList?o.scrollHeight+"px":0)}get category(){return this.formName.controls.category}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(e.Qsj))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-select"]],viewQuery:function(o,t){if(1&o&&e.Gf(b,5),2&o){let c;e.iGM(c=e.CRH())&&(t.selectList=c.first)}},inputs:{options:"options",formName:"formName",controlName:"controlName"},decls:9,vars:8,consts:[[1,"select"],[1,"select__control",3,"formGroup","click"],["type","text","placeholder","Select Category","readonly","",1,"select__input",3,"formControlName"],["inputText",""],[1,"select__icon"],["appClickOutside","",1,"select__list",3,"toggle","clicked"],["selectList",""],["class","select__item",3,"click",4,"ngFor","ngForOf"],[1,"select__item",3,"click"],["listItem",""]],template:function(o,t){if(1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.NdJ("click",function(){return t.toggleSelect()}),e._UZ(2,"input",2,3),e.TgZ(4,"mat-icon",4),e._uU(5,"expand_more"),e.qZA(),e.qZA(),e.TgZ(6,"ul",5,6),e.NdJ("clicked",function(){return t.hideList()}),e.YNc(8,C,3,1,"li",7),e.qZA(),e.qZA()),2&o){const c=e.MAs(3);e.xp6(1),e.Q6J("formGroup",t.formName),e.xp6(1),e.ekj("border-error",t.category.invalid&&(t.category.touched||t.category.dirty)),e.Q6J("formControlName",t.controlName),e.xp6(2),e.ekj("select__icon-rotate",t.showList),e.xp6(2),e.Q6J("toggle",c),e.xp6(2),e.Q6J("ngForOf",t.options)}},directives:[r.JL,r.sg,r.Fj,r.JJ,r.u,f.Hw,h._,l.sg],styles:[".select[_ngcontent-%COMP%]{width:100%;position:relative}.select__input[_ngcontent-%COMP%]{width:100%;padding:1.5rem 2rem;font-size:1.6rem;background-color:#f2f4ff;border-radius:5px;cursor:pointer;text-transform:capitalize;font-weight:500}.select__input[_ngcontent-%COMP%]::placeholder{font-weight:400}.select__icon[_ngcontent-%COMP%]{position:absolute;right:2rem;top:50%;transform:translateY(-50%);pointer-events:none;transition:all .5s}.select__icon-rotate[_ngcontent-%COMP%]{transform:translateY(-50%) rotate(180deg)}.select__list[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:100%;border-bottom-left-radius:5px;border-bottom-right-radius:5px;background-color:#fff;box-shadow:1px 6px 16px #0000004d;overflow:hidden;height:0;transition:all .4s;z-index:10}.select__item[_ngcontent-%COMP%]{color:var(--text-accent-dark);transition:all .4s;padding:1rem 2rem;cursor:pointer;font-weight:600;text-transform:capitalize}.select__item[_ngcontent-%COMP%]:hover, .select__item[_ngcontent-%COMP%]:active{color:var(--text-primary)}.select__item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid var(--gray-20)}"]}),i})();function Z(i,n){1&i&&(e.TgZ(0,"mat-icon",21),e._uU(1,"add"),e.qZA())}function k(i,n){1&i&&e._UZ(0,"mat-icon",22)}function y(i,n){1&i&&(e.TgZ(0,"h2",23),e._uU(1,"Create New Feedback"),e.qZA())}function T(i,n){if(1&i&&(e.TgZ(0,"h2",23),e._uU(1),e.qZA()),2&i){const o=e.oxw();e.xp6(1),e.hij("Editing '",o.f.title.value,"'")}}function F(i,n){1&i&&(e.TgZ(0,"div",24),e.TgZ(1,"span",25),e._uU(2,"Title is required"),e.qZA(),e.qZA())}function A(i,n){1&i&&(e.TgZ(0,"div",24),e.TgZ(1,"span",25),e._uU(2,"Category is required"),e.qZA(),e.qZA())}function x(i,n){1&i&&(e.TgZ(0,"div",24),e.TgZ(1,"span",25),e._uU(2,"Comments is required"),e.qZA(),e.qZA())}function O(i,n){1&i&&(e.TgZ(0,"button",26),e._uU(1," Delete "),e.qZA())}const q=function(i){return{"btn__disable btn__disable--primary":i}},w=[{path:"",component:(()=>{class i{constructor(o,t,c,s){this.fb=o,this.router=t,this.route=c,this.feedbackService=s,this.options=["ui","ux","enhancement","bug","feature"],this.isEdit=!1,this.feedbackForm=this.fb.group({title:["",r.kI.required],category:["",r.kI.required],description:["",r.kI.required]})}ngOnInit(){this.route.paramMap.subscribe(o=>{let t=o.get("id");if(t){let c=this.feedbackService.getAllFeedback();if(c){let s=this.getFeedbackById(c,t);this.setEditValues(s),this.isEdit=!0}this.feedbackService.feedbackChange.subscribe(s=>{if(t){let p=this.getFeedbackById(s,t);this.setEditValues(p),this.isEdit=!0}})}else this.isEdit=!1})}getFeedbackById(o,t){return(o&&o.filter(s=>s.id===t))[0]}setEditValues(o){let{title:t,category:c,description:s}=o;this.feedbackForm.patchValue({title:t,category:c,description:s})}onSubmit(){if(this.feedbackForm.invalid)return;let o=Object.assign(Object.assign({},this.feedbackForm.value),{id:`${Date.now()+1}`,status:"suggestion",votes:0,comments:[]});this.feedbackService.addFeedback(o).then(()=>{this.router.navigate(["/"])})}get f(){return this.feedbackForm.controls}onBack(){this.router.navigate(["/"])}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(r.qu),e.Y36(d.F0),e.Y36(d.gz),e.Y36(_.T))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-create-feedback"]],decls:40,vars:18,consts:[[1,"create-feed"],[1,"create-feed__bar"],["appGoBack","",1,"btn-back"],[1,"btn-back__icon"],[1,"create-feed__content"],[1,"circle"],["class","circle__icon",4,"ngIf"],["class","circle__icon--edit","svgIcon","edit_icon",4,"ngIf"],["class","h-primary mb-3",4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-field"],[1,"form-field__label"],[1,"form-field__hint"],["formControlName","title","type","text",1,"form-field__input"],["class","form-field__error-box",4,"ngIf"],["controlName","category",1,"create-feed__select",3,"options","formName"],["draggable","false","cols","10","rows","5","formControlName","description",1,"form-field__input","form-field__input-text"],[1,"create-feed__controls"],["type","button","class","btn btn__warn auto-r",4,"ngIf"],["type","reset",1,"btn","btn__secondary"],["type","submit",1,"btn","btn__primary",3,"ngClass"],[1,"circle__icon"],["svgIcon","edit_icon",1,"circle__icon--edit"],[1,"h-primary","mb-3"],[1,"form-field__error-box"],[1,"form-field__error-text"],["type","button",1,"btn","btn__warn","auto-r"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"button",2),e.TgZ(3,"mat-icon",3),e._uU(4,"chevron_left"),e.qZA(),e._uU(5," Go Back "),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.YNc(8,Z,2,0,"mat-icon",6),e.YNc(9,k,1,0,"mat-icon",7),e.qZA(),e.YNc(10,y,2,0,"h2",8),e.YNc(11,T,2,1,"h2",8),e.TgZ(12,"form",9),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(13,"div",10),e.TgZ(14,"label",11),e._uU(15,"Feedback Title"),e.qZA(),e.TgZ(16,"span",12),e._uU(17,"Add a short, descriptive headline "),e.qZA(),e._UZ(18,"input",13),e.YNc(19,F,3,0,"div",14),e.qZA(),e.TgZ(20,"div",10),e.TgZ(21,"label",11),e._uU(22,"Category"),e.qZA(),e.TgZ(23,"span",12),e._uU(24,"Choose a category for your feedback "),e.qZA(),e._UZ(25,"app-select",15),e.YNc(26,A,3,0,"div",14),e.qZA(),e.TgZ(27,"div",10),e.TgZ(28,"label",11),e._uU(29,"Feedback Details "),e.qZA(),e.TgZ(30,"span",12),e._uU(31,"Include any specific comments on what should be improved, added, etc. "),e.qZA(),e._UZ(32,"textarea",16),e.YNc(33,x,3,0,"div",14),e.qZA(),e.TgZ(34,"div",17),e.YNc(35,O,2,0,"button",18),e.TgZ(36,"button",19),e._uU(37,"Cancel"),e.qZA(),e.TgZ(38,"button",20),e._uU(39," Add Comment "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(8),e.Q6J("ngIf",!t.isEdit),e.xp6(1),e.Q6J("ngIf",t.isEdit),e.xp6(1),e.Q6J("ngIf",!t.isEdit),e.xp6(1),e.Q6J("ngIf",t.isEdit),e.xp6(1),e.Q6J("formGroup",t.feedbackForm),e.xp6(6),e.ekj("border-error",t.f.title.invalid&&(t.f.title.touched||t.f.title.dirty)),e.xp6(1),e.Q6J("ngIf",t.f.title.invalid&&(t.f.title.touched||t.f.title.dirty)),e.xp6(6),e.Q6J("options",t.options)("formName",t.feedbackForm),e.xp6(1),e.Q6J("ngIf",t.f.category.invalid&&(t.f.category.touched||t.f.category.dirty)),e.xp6(6),e.ekj("border-error",t.f.description.invalid&&(t.f.description.touched||t.f.description.dirty)),e.xp6(1),e.Q6J("ngIf",t.f.description.invalid&&(t.f.description.touched||t.f.description.dirty)),e.xp6(2),e.Q6J("ngIf",t.isEdit),e.xp6(3),e.Q6J("ngClass",e.VKq(16,q,t.feedbackForm.invalid)))},directives:[u.v,f.Hw,l.O5,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,v,l.mk],styles:[".create-feed[_ngcontent-%COMP%]{width:54rem;margin:0 auto;padding:7rem 1rem}@media (max-width: 650px){.create-feed[_ngcontent-%COMP%]{width:100%;padding:7rem 2.4rem}}.create-feed__bar[_ngcontent-%COMP%]{margin-bottom:6rem}.create-feed__content[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:4rem 2.4rem;position:relative}.create-feed__select[_ngcontent-%COMP%]{display:block;margin-top:1.5rem;width:auto;height:auto;position:relative}.create-feed__controls[_ngcontent-%COMP%]{display:flex;grid-gap:1rem;gap:1rem;justify-content:flex-end;margin-top:2rem}.create-feed__controls[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{justify-content:center}@media (max-width: 650px){.create-feed__controls[_ngcontent-%COMP%]{flex-direction:column-reverse}}@media (max-width: 650px){.btn__warn[_ngcontent-%COMP%]{width:100%}}.circle[_ngcontent-%COMP%]{width:5rem;height:5rem;border-radius:50%;background:linear-gradient(45deg,#488aef,#ad1fea,#da4b8c);position:absolute;left:3rem;top:0;transform:translateY(-50%);display:flex;justify-content:center;align-items:center}.circle__icon[_ngcontent-%COMP%]{color:#fff;font-weight:1.4rem;font-weight:700}.circle__icon--edit[_ngcontent-%COMP%]{width:6rem;height:6rem}"]}),i})()}];let M=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[d.Bz.forChild(w)],d.Bz]}),i})();var N=a(4667);let J=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[l.ez,M,g.Z,N.q,r.u5,r.UX]]}),i})()}}]);